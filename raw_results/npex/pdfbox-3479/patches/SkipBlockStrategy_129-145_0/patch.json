{
    "contents": "if (rect != null) {\n    appearanceStream = new org.apache.pdfbox.pdmodel.interactive.annotation.PDAppearanceStream(field.getAcroForm().getDocument());\n    org.apache.pdfbox.pdmodel.common.PDRectangle rect = widget.getRectangle();\n    // Calculate the entries for the bounding box and the transformation matrix\n    // settings for the appearance stream\n    int rotation = resolveRotation(widget);\n    org.apache.pdfbox.util.Matrix matrix = org.apache.pdfbox.util.Matrix.getRotateInstance(java.lang.Math.toRadians(rotation), 0, 0);\n    java.awt.geom.Point2D.Float point2D = matrix.transformPoint(rect.getWidth(), rect.getHeight());\n    org.apache.pdfbox.pdmodel.common.PDRectangle bbox = new org.apache.pdfbox.pdmodel.common.PDRectangle(java.lang.Math.abs(((float) (point2D.getX()))), java.lang.Math.abs(((float) (point2D.getY()))));\n    appearanceStream.setBBox(bbox);\n    appearanceStream.setMatrix(calculateMatrix(bbox, rotation));\n    appearanceStream.setFormType(1);\n    appearanceDict.setNormalAppearance(appearanceStream);\n    // TODO support appearances other than \"normal\"\n}",
    "original_filepath": "org/apache/pdfbox/pdmodel/interactive/form/AppearanceGeneratorHelper.java",
    "patched_lines": [125]
}